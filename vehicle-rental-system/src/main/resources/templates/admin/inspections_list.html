<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>DriveEase • Admin • Inspections</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root{--primary:#2c3e50;--secondary:#3498db;--accent:#e74c3c;--success:#2ecc71;--dark:#2c3e50;--shadow:0 4px 6px rgba(0,0,0,.1)}
        *{box-sizing:border-box;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}
        body{margin:0;background:#f8f9fa;color:#333;min-height:100vh;display:flex;flex-direction:column}
        header{background:linear-gradient(135deg,var(--primary),#1f2a3a);color:#fff;padding:18px 0;box-shadow:var(--shadow)}
        .container{max-width:1200px;margin:0 auto;padding:0 20px}
        .row{display:flex;align-items:center;justify-content:space-between}
        .logo{display:flex;align-items:center;gap:10px}
        .logo i{color:var(--secondary);font-size:28px}
        main{flex:1;padding:28px 0}
        .card{background:#fff;border-radius:12px;box-shadow:var(--shadow);padding:18px}
        table{width:100%;border-collapse:collapse}
        th,td{padding:12px;border-bottom:1px solid #eee;text-align:left}
        th{background:#fafafa}
        .pill{display:inline-block;padding:4px 10px;border-radius:999px;font-size:12px;font-weight:700}
        .good{background:#e8ffef;color:#167a3d}
        .warn{background:#fff7e6;color:#b46900}
        .bad{background:#ffecec;color:#b12e2e}
        .muted{opacity:.7}
        .btn{border:none;border-radius:8px;padding:8px 12px;cursor:pointer;font-weight:700}
        .btn-primary{background:#3498db;color:#fff}
        .btn-ghost{background:transparent;border:2px solid #3498db;color:#3498db}
        footer{background:#2c3e50;color:#fff;padding:24px 0;margin-top:auto}
    </style>
</head>
<body>
<header>
    <div class="container">
        <div class="row">
            <div class="logo"><i class="fas fa-car"></i><h2 style="margin:0">DriveEase • Admin</h2></div>
            <div style="display:flex;gap:10px">
                <a th:href="@{/admin/deliveries}" class="btn btn-ghost">Deliveries</a>
                <a th:href="@{/admin/inspections}" class="btn btn-primary">Inspections</a>
            </div>
        </div>
    </div>
</header>

<main>
    <div class="container">
        <div class="card">
            <h3 style="margin-top:0">Vehicle Inspections</h3>
            <div style="overflow:auto">
                <table>
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Delivery</th>
                        <th>Vehicle</th>
                        <th>Inspector</th>
                        <th>Odometer</th>
                        <th>Fuel</th>
                        <th>Cleanliness</th>
                        <th>Created</th>
                        <th>View</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="i,idx : ${inspections}">
                        <td th:text="${idx.index + 1}">1</td>
                        <td th:text="${i.deliveryId}">1001</td>
                        <td th:text="${i.vehicleId}">501</td>
                        <td th:text="${i.inspectedByUserId}">42</td>
                        <td th:text="${i.odometer}">47000</td>
                        <td>
                            <!-- fuel: warn for P0 or P25, else good -->
                            <span class="pill warn" th:if="${i.fuelLevel.name()=='P0' or i.fuelLevel.name()=='P25'}"
                                  th:text="${i.fuelLevel}">P25</span>
                            <span class="pill good" th:if="${!(i.fuelLevel.name()=='P0' or i.fuelLevel.name()=='P25')}"
                                  th:text="${i.fuelLevel}">P50</span>
                        </td>
                        <td>
                            <!-- cleanliness: bad for POOR, warn for FAIR, else good -->
                            <span class="pill bad" th:if="${i.cleanliness.name()=='POOR'}"
                                  th:text="${i.cleanliness}">POOR</span>
                            <span class="pill warn" th:if="${i.cleanliness.name()=='FAIR'}"
                                  th:text="${i.cleanliness}">FAIR</span>
                            <span class="pill good" th:if="${i.cleanliness.name()!='POOR' and i.cleanliness.name()!='FAIR'}"
                                  th:text="${i.cleanliness}">GOOD</span>
                        </td>
                        <td th:text="${#temporals.format(i.createdAt,'yyyy-MM-dd HH:mm')}">2025-09-29 13:22</td>
                        <td>
                            <a th:href="@{|/admin/inspections/${i.id}|}" class="btn btn-primary"><i class="fa fa-eye"></i>&nbsp;Open</a>
                        </td>
                    </tr>
                    <tr th:if="${#lists.isEmpty(inspections)}">
                        <td colspan="9" class="muted">No inspections yet.</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</main>

<footer>
    <div class="container">© DriveEase Vehicle Rental • Admin</div>
</footer>
</body>
</html>
